








**Лабораторная работа №9**
### **Дисциплина: Операционные системы**

## Кочуров Арсений Владимирович




**Содержание**

1. [Цель работы](#_bookmark0)	5**
1. [**Задание](#_bookmark1)	**6**
1. [**Выполнение лабораторной работы](#_bookmark2)	**7**
1. [**Библиография](#_bookmark24)	**26**



26
![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.001.png)

**List of Tables**


**List of Figures**

[3.1	Работа с консолью](#_bookmark3)  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .	7

2. [Вводим основные команды в консоль ](#_bookmark4).  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .	8
2. [Режим “вставка” для работы с текстом](#_bookmark5)	.  .  .  .  .  .  .  .  .  .  .  .  .  .  .	8 [3.4	Командный режим](#_bookmark6) .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .	9
5. [Приглашение в виде двоеточия](#_bookmark7)	10
5. [Сохранение текста и завершение работы](#_bookmark8)	10
5. [Делаем файл исполняемым](#_bookmark9)	11
5. [Работа с консолью](#_bookmark10)	12
5. [Вызов vi для редактирования](#_bookmark11)	12
5. [Управление курсором](#_bookmark12)	13
5. [Режим вставки](#_bookmark13)	13
5. [Устанавливаем курсор на четвёртую строку](#_bookmark14)	14
5. [Вставляем текст: local](#_bookmark15)	15
5. [Устанавливаем курсор на последней строке](#_bookmark16)	16
5. [Вставляем текст: echo $HELLO](#_bookmark17)	16
5. [Удаление строки](#_bookmark18)	17
5. [Отмена последней команды](#_bookmark19)	18
5. [Режим последней строки](#_bookmark20)	18
5. [Иллюстрация к вопросу 10](#_bookmark21)	23
5. [Иллюстрация к вопросу 11](#_bookmark22)	24
5. [Иллюстрация к вопросу 13](#_bookmark23)	25







1. # **Цель работы**

Цель данной лабораторной работы — Познакомиться с операционной системой Linux. Получить практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах.







1. # **Задание**

1. Сделать отчёт по лабораторной работе №9 в формате Markdown.
1. Познакомиться с операционной системой Linux.







1. # **Выполнение лабораторной работы**

Выполнение 1 задания:

1. Создал каталог с именем ~/work/os/lab06 с помощью команды mkdir (опция

-p позволяет создать все каталоги, которые указаны внутри пути) (Алгоритм действий представлен на рис. [3.1 ](#_bookmark3)).

1. Командой «cd work/os/lab06» перешел в созданный каталог (Скриншот [3.1 ](#_bookmark3)). 3). Вызвала vi и создала файл hello.sh с помощью команды «vi hello.sh» (алго-

ритм действий представлен на рис. [3.1 ](#_bookmark3), [3.2 ](#_bookmark4)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.002.png)

Figure 3.1: Работа с консолью

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.2: Вводим основные команды в консоль

4. Нажимаем клавишу «i» и вводим текст, указанный в лабораторной работе (Скриншот [3.3 ](#_bookmark5)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.3: Режим “вставка” для работы с текстом

4. Нажимаем клавишу «esc», чтобы перейти в командный режим после завер- шения ввода текста (См. рисунок [3.4 ](#_bookmark6)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.002.png)

Figure 3.4: Командный режим

4. Нажимаем «:» для перехода в режим последней строки и внизу экрана видим, что появилось приглашение в виде двоеточия (Алгоритм действий представлен на рис. [3.5 ](#_bookmark7)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.5: Приглашение в виде двоеточия

4. Нажал «w» (записать) и «q» (выйти), далее нажимаю клавишу «enter» для сохранения текста и завершения работы (См. рисунок [3.6 ](#_bookmark8)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.002.png)

Figure 3.6: Сохранение текста и завершение работы

4. ![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.004.png)Чтобы сделать файл исполняемым, использую команду «chmod +x hello.sh» (Алгоритм действий представлен на рис. [3.7 ](#_bookmark9)).















Figure 3.7: Делаем файл исполняемым Выполнение 2 задания:

1. Вызовем  vi  для  редактирования  файла  с  помощью  команды  «vi

~/work/os/lab06/hello.sh» (Алгоритм действий представлен на рис. [3.8](#_bookmark10) , [3.9](#_bookmark11)

).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.8: Работа с консолью

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.9: Вызов vi для редактирования

1. Далее с помощью стрелок установил курсор в конец слова HELL второй строки (См. рисунок [3.10 ](#_bookmark12)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.10: Управление курсором

1. Перешел в режим вставки, нажав на клавишу «i», и заменила HELL на HELLO, дописав O. Нажала «esc» для возврата в командный режим (См. рисунок [3.11 ](#_bookmark13)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.002.png)

Figure 3.11: Режим вставки

1. С помощью стрелок установила курсор на четвертую строку и стёрла сло- во LOCAL с помощью комбинации клавиш «d» (delete) и «w» (word) (алгоритм действий представлен на рис. [3.12 ](#_bookmark14)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.12: Устанавливаем курсор на четвёртую строку

1. Перешел в режим вставки, нажав клавишу «i», и набрал следующий текст: local. Нажала «esc» для возврата в командный режим (Скриншот [3.13 ](#_bookmark15)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.13: Вставляем текст: local

1. Установила курсор на последней строке файла, используя стрелки. Вставил после неё строку, содержащую следующий текст: echo $HELLO (Рисунки [3.14 ](#_bookmark16), [3.15](#_bookmark17)

).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.14: Устанавливаем курсор на последней строке

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.15: Вставляем текст: echo $HELLO

1. Далее нажала «esc», чтобы перейти в командный режим.
1. Удалил последнюю строку, используя комбинацию клавиш «d» и «d» (См.

рисунок [3.16 ](#_bookmark18)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.16: Удаление строки

1. Ввел команду отмены изменений «u» для отмены последней команды (Скриншот [3.17 ](#_bookmark19)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.17: Отмена последней команды

1. Ввел символ «:» для перехода в режим последней строки. Записал произ- ведённые изменения, нажав «w» и «q» и вышла из vi (См. рисунок [3.18 ](#_bookmark20)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.002.png)

Figure 3.18: Режим последней строки

Ответы на контрольные вопросы:

1. Редактор vi имеет три режима работы:

- командный режим − предназначен для ввода команд редактирования и навигации по редактируемому файлу;
- режим вставки − предназначен для ввода содержания редактируемого фай- ла;
- режим последней (или командной) строки − используется для записи изме- нений в файл и выхода из редактора.
1. Чтобы выйти из редактора, не сохраняя произведённые изменения, нужно в режиме командной строки нажать клавиши «:» «q» «!»
1. Команды позиционирования:

- «0»(ноль) − переход в начало строки;

- «$» − переход в конец строки;

- «G» − переход в конец файла;

- n«G» − переход на строку с номером n.

1. При использовании прописных W и B под разделителями понимаются толь- ко пробел, табуляция и возврат каретки. При использовании строчных w и b под разделителями понимаются также любые знаки пунктуации.
1. Чтобы из любого места редактируемого файла перейти в начало (конец) файла, нужно в режиме командной строки нажать клавиши «1» «G» («G»).
1. Команды редактирования:

1. Вставка текста

- «а» − вставить текст после курсора;

- «А» − вставить текст в конец строки;

- «i» − вставить текст перед курсором;

- n «i» − вставить текст n раз;

- «I» − вставить текст в начало строки.

1. Вставка строки

- «о» − вставить строку под курсором;

- «О» − вставить строку над курсором.

1. Удаление текста

- «x» − удалить один символ в буфер;

- «d» «w» − удалить одно слово в буфер;

- «d» «$» − удалить в буфер текст от курсора до конца строки;

- «d» «0» − удалить в буфер текст от начала строки до позиции курсора;

- «d» «d» − удалить в буфер одну строку;

- n «d» «d» − удалить в буфер n строк.

1. Отмена и повтор произведённых изменений

- «u» − отменить последнее изменение;

- «.» − повторить последнее изменение.

1. Копирование текста в буфер

- «Y» − скопировать строку в буфер;

- n «Y» − скопировать n строк в буфер;

- «y» «w» − скопировать слово в буфер.

1. Вставка текста из буфера

- «p» − вставить текст из буфера после курсора;

- «P» − вставить текст из буфера перед курсором.

1. Замена текста

- «c» «w» − заменить слово;

- n «c» «w» − заменить nслов;

- «c» «$» − заменить текст от курсора до конца строки;

- «r» − заменить слово;

- «R» − заменить текст.

1. Поиск текста

- «/» текст − произвести поиск вперёд по тексту указанной строки символов текст;
- «?» текст − произвести поиск назад по тексту указанной строки символов текст.

1. Копирование и перемещение текста

- «:» n,m «d» – удалить строки с n по m;

- «:» i,j «m» k – переместить строки с i по j, начиная со строки k;

- «:» i,j «t» k – копировать строки с i по j в строку k;

- «:» i,j «w» имя-файла – записать строки с i по j в файл с именем имя-файла.

1. Чтобы заполнить строку символами , , 𝑛«𝐺», 𝑛–, «0».«𝑐»«», чтобы заме- нить текст от курсора до конца строки, и ввести символы $.
1. Чтобы отменить по одному предыдущему действию последовательно, необ- ходимо нажать «u». Чтобы отменить все изменения, произведённые со времени последней записи, нужно нажать «:» «e» «!».
1. Команды редактирования в режиме командной строки

1. Копирование и перемещение текста

- «:»n,m «d» − удалить строки с n по m;

- «:»i,j «m» k − переместить строки с i по j, начиная со строки k;

- «:»i,j «t» k − копировать строки с i по j в строку k;

- «:»i,j «w» имя-файла − записать строки с i по j в файл с именем имя-файла.

1. Запись в файл и выход из редактора

- «:» «w» − записать изменённый текст в файл, не выходя из vi;

- «:» «w» имя-файла − записать изменённый текст в новый файл с именем имя-файла;
- «:» «w» «!» имя-файла − записать изменённый текст в файл с именем имя- файла;
- «:» «w» «q» − записать изменения в файл и выйти из vi;

- «:» «q» − выйти из редактора vi;

- «:» «q» «!» − выйти из редактора без записи;

- «:» «e» «!» − вернуться в командный режим, отменив все изменения, произ- ведённые со времени последней записи.
1. Опции

Опции редактора vi позволяют настроить рабочую среду. Для задания опций используется команда set (в режиме последней строки):

- «:»set all − вывести полный список опций;

- «:»set nu − вывести номера строк;

- «:»set list − вывести невидимые символы;

- «:»set ic − не учитывать при поиске, является ли символ прописным или строчным.

Если вы хотите отказаться от использования опции, то в команде set перед именем опции надо поставить no.

1. Чтобы определить, не перемещая курсора, позицию, в которой заканчива- ется строка, нужно в командном режиме находясь на нужной строке нажать «$»и посмотреть на число после запятой в правом нижнем углу экрана (См. рисунок

[3.19 ](#_bookmark21)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.003.png)

Figure 3.19: Иллюстрация к вопросу 10

1. Опции редактора vi позволяют настроить рабочую среду. Для задания опций используется команда set (в режиме командной строки). Если вы хотите отказаться от использования опции, то в команде set перед именем опции надо поставить no. Чтобы просмотреть опции редактора vi, необходимо нажать «:» set all (См. рисунок [3.20 ](#_bookmark22)). Нажав «:» help“название\_опции”, можно узнать назначение конкретной опции. (См. рисунок [3.20 ](#_bookmark22)).

![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.002.png)

Figure 3.20: Иллюстрация к вопросу 11

1. В режиме командной строки внизу редактора присутствует «:», в режиме ввода – «–ВСТАВКА –», в командном режиме внизу ничего нет.
1. Граф взаимосвязи режимов работы редактора vi (См. рисунок [3.21 ](#_bookmark23)).


![](Aspose.Words.dfb55d1e-8dc3-4809-95a1-2aec93151d36.005.png)

Figure 3.21: Иллюстрация к вопросу 13







1. # **Библиография**

1. Программное обеспечение GNU/Linux. Лекция 2. Терминал и командная строка (Г. Курячий, МГУ);
1. Программное обеспечение GNU/Linux. Лекция 3. FHS и процессы (Г. Курячий, МГУ);
1. Электроннный	ресурс:	https://docs.altlinux.org/ru-RU/archive/2.3/html- single/junior/alt-docs-extras-linuxnovice/ch02s10.html
1. Электронный ресурс: https://remoteshaman.com/unix/common/polnaya- reference-at-vi-redaktoru # Выводы

В ходе лабораторной работы я познакомилась с операционной системой Linux. Получила практические навыки работы с редактором vi, установленным по умол- чанию практически во всех дистрибутивах.
